<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android" android:versionCode="080" android:versionName="0.8.0-SNAPSHOT" package="com.danielstiner.vibrates">

    <uses-permission android:name="android.permission.READ_CONTACTS">
    </uses-permission>
    <!-- Know about incoming calls and the number they are coming from -->
    <uses-permission android:name="android.permission.READ_PHONE_STATE">
    </uses-permission>
    <uses-permission android:name="android.permission.RECEIVE_SMS">
    </uses-permission>
    <uses-permission android:name="android.permission.VIBRATE">
    </uses-permission>
    <uses-permission android:name="android.permission.RECEIVE_MMS">
    </uses-permission>
    <!-- Keep phone awake during notification vibrations -->
    <uses-permission android:name="android.permission.WAKE_LOCK">
    </uses-permission>
    <uses-permission android:name="com.google.android.gm.permission.READ_CONTENT_PROVIDER"/>
    <uses-permission android:name="com.facebook.katana.provider.ACCESS"/>

    <uses-sdk android:minSdkVersion="7" android:targetSdkVersion="14"/>

    <application android:debuggable="true" android:icon="@drawable/icon" android:label="@string/app_name" android:name=".Vibrates">
        <activity android:name=".view.EntitiesActivity">
        </activity>
        <activity android:name=".view.EntityAddActivity">
        </activity>

        <provider android:authorities="com.danielstiner.vibrates.providers.Entity" android:name=".model.internal.EntityProvider">
        </provider>
        <provider android:authorities="com.danielstiner.vibrates.providers.Identifier" android:name=".model.internal.IdentifierProvider">
        </provider>

        <receiver android:name=".notify.IntentReciever">

            <!-- Priority set to maximum allowable to make sure we get called before the notification is cancelled -->
            <intent-filter android:label="Incoming SMS" android:priority="2147483641">
                <action android:name="android.provider.Telephony.SMS_RECEIVED">
                </action>
            </intent-filter>
            <intent-filter android:label="Vibrate Mode Change">
                <action android:name="android.media.RINGER_MODE_CHANGED">
                </action>
            </intent-filter>
            <intent-filter android:label="Incoming Call" android:priority="2147483641">
                <action android:name="android.intent.action.PHONE_STATE">
                </action>
            </intent-filter>
        </receiver>

        <service android:name=".service.VibratrService">
            <intent-filter>
                <action android:name="com.danielstiner.vibrates.VIBRATE">
                </action>
            </intent-filter>
        </service>
        <activity android:name=".settings.Preferences"/>
        <activity android:name=".view.LaunchActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>

                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>
        <activity android:name=".view.EntityDetail"/>
        <activity android:name=".settings.DefaultPatternEdit">
            <intent-filter>
                <data android:host="vibrates.danielstiner.com" android:scheme="settings"/>
                <category android:name="android.intent.category.DEFAULT"/>
                <action android:name="android.intent.action.VIEW"/>
            </intent-filter>
        </activity>
        <activity android:name=".view.PatternEditActivity"/>
        <service android:description="@string/accessiblity_listener_desc" android:name="com.danielstiner.vibrates.notify.AccessibilityListener">
            <intent-filter>
                <action android:name="android.accessibilityservice.AccessibilityService"/>
            </intent-filter>
        </service>
    </application>

</manifest>